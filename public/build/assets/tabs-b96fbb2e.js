import{o as d,a as Q,f as W,O as E,H as k,g as V,b as H,d as M,u as N,e as I,T as L,t as X,m as Y,P as $,N as h}from"./micro-task-cadf959b.js";import{d as P,l as F,M as R,i as A,j,A as c,L as q,p as Z,F as _,N as z,K as C}from"./app-8d0782cb.js";function U(e,r){if(e)return e;let s=r??"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function ee(e,r){let s=P(U(e.value.type,e.value.as));return F(()=>{s.value=U(e.value.type,e.value.as)}),R(()=>{var i;s.value||d(r)&&d(r)instanceof HTMLButtonElement&&!((i=d(r))!=null&&i.hasAttribute("type"))&&(s.value="button")}),s}let te=A({props:{onFocus:{type:Function,required:!0}},setup(e){let r=P(!0);return()=>r.value?j(W,{as:"button",type:"button",features:Q.Focusable,onFocus(s){s.preventDefault();let i,u=50;function l(){var o;if(u--<=0){i&&cancelAnimationFrame(i);return}if((o=e.onFocus)!=null&&o.call(e)){r.value=!1,cancelAnimationFrame(i);return}i=requestAnimationFrame(l)}i=requestAnimationFrame(l)}}):null}});var ae=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ae||{}),le=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(le||{});let K=Symbol("TabsContext");function B(e){let r=C(K,null);if(r===null){let s=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,B),s}return r}let G=Symbol("TabsSSRContext"),re=A({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:r,attrs:s,emit:i}){var u;let l=P((u=e.selectedIndex)!=null?u:e.defaultIndex),o=P([]),m=P([]),x=c(()=>e.selectedIndex!==null),f=c(()=>x.value?e.selectedIndex:l.value);function p(a){var t;let n=E(v.tabs.value,d),b=E(v.panels.value,d),S=n.filter(y=>{var g;return!((g=d(y))!=null&&g.hasAttribute("disabled"))});if(a<0||a>n.length-1){let y=N(l.value===null?0:Math.sign(a-l.value),{[-1]:()=>1,0:()=>N(Math.sign(a),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),g=N(y,{0:()=>n.indexOf(S[0]),1:()=>n.indexOf(S[S.length-1])});g!==-1&&(l.value=g),v.tabs.value=n,v.panels.value=b}else{let y=n.slice(0,a),g=[...n.slice(a),...y].find(J=>S.includes(J));if(!g)return;let D=(t=n.indexOf(g))!=null?t:v.selectedIndex.value;D===-1&&(D=v.selectedIndex.value),l.value=D,v.tabs.value=n,v.panels.value=b}}let v={selectedIndex:c(()=>{var a,t;return(t=(a=l.value)!=null?a:e.defaultIndex)!=null?t:null}),orientation:c(()=>e.vertical?"vertical":"horizontal"),activation:c(()=>e.manual?"manual":"auto"),tabs:o,panels:m,setSelectedIndex(a){f.value!==a&&i("change",a),x.value||p(a)},registerTab(a){var t;if(o.value.includes(a))return;let n=o.value[l.value];o.value.push(a),o.value=E(o.value,d);let b=(t=o.value.indexOf(n))!=null?t:l.value;b!==-1&&(l.value=b)},unregisterTab(a){let t=o.value.indexOf(a);t!==-1&&o.value.splice(t,1)},registerPanel(a){m.value.includes(a)||(m.value.push(a),m.value=E(m.value,d))},unregisterPanel(a){let t=m.value.indexOf(a);t!==-1&&m.value.splice(t,1)}};q(K,v);let T=P({tabs:[],panels:[]}),w=P(!1);F(()=>{w.value=!0}),q(G,c(()=>w.value?null:T.value));let O=c(()=>e.selectedIndex);return F(()=>{Z([O],()=>{var a;return p((a=e.selectedIndex)!=null?a:e.defaultIndex)},{immediate:!0})}),R(()=>{if(!x.value||f.value==null||v.tabs.value.length<=0)return;let a=E(v.tabs.value,d);a.some((t,n)=>d(v.tabs.value[n])!==d(t))&&v.setSelectedIndex(a.findIndex(t=>d(t)===d(v.tabs.value[f.value])))}),()=>{let a={selectedIndex:l.value};return j(_,[o.value.length<=0&&j(te,{onFocus:()=>{for(let t of o.value){let n=d(t);if((n==null?void 0:n.tabIndex)===0)return n.focus(),!0}return!1}}),k({theirProps:{...s,...V(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:a,slots:r,attrs:s,name:"TabGroup"})])}}}),se=A({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:r,slots:s}){let i=B("TabList");return()=>{let u={selectedIndex:i.selectedIndex.value},l={role:"tablist","aria-orientation":i.orientation.value};return k({ourProps:l,theirProps:e,slot:u,attrs:r,slots:s,name:"TabList"})}}}),oe=A({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${H()}`}},setup(e,{attrs:r,slots:s,expose:i}){let u=B("Tab"),l=P(null);i({el:l,$el:l}),F(()=>u.registerTab(l)),z(()=>u.unregisterTab(l));let o=C(G),m=c(()=>{if(o.value){let t=o.value.tabs.indexOf(e.id);return t===-1?o.value.tabs.push(e.id)-1:t}return-1}),x=c(()=>{let t=u.tabs.value.indexOf(l);return t===-1?m.value:t}),f=c(()=>x.value===u.selectedIndex.value);function p(t){var n;let b=t();if(b===L.Success&&u.activation.value==="auto"){let S=(n=Y(l))==null?void 0:n.activeElement,y=u.tabs.value.findIndex(g=>d(g)===S);y!==-1&&u.setSelectedIndex(y)}return b}function v(t){let n=u.tabs.value.map(b=>d(b)).filter(Boolean);if(t.key===I.Space||t.key===I.Enter){t.preventDefault(),t.stopPropagation(),u.setSelectedIndex(x.value);return}switch(t.key){case I.Home:case I.PageUp:return t.preventDefault(),t.stopPropagation(),p(()=>$(n,h.First));case I.End:case I.PageDown:return t.preventDefault(),t.stopPropagation(),p(()=>$(n,h.Last))}if(p(()=>N(u.orientation.value,{vertical(){return t.key===I.ArrowUp?$(n,h.Previous|h.WrapAround):t.key===I.ArrowDown?$(n,h.Next|h.WrapAround):L.Error},horizontal(){return t.key===I.ArrowLeft?$(n,h.Previous|h.WrapAround):t.key===I.ArrowRight?$(n,h.Next|h.WrapAround):L.Error}}))===L.Success)return t.preventDefault()}let T=P(!1);function w(){var t;T.value||(T.value=!0,!e.disabled&&((t=d(l))==null||t.focus({preventScroll:!0}),u.setSelectedIndex(x.value),X(()=>{T.value=!1})))}function O(t){t.preventDefault()}let a=ee(c(()=>({as:e.as,type:r.type})),l);return()=>{var t;let n={selected:f.value},{id:b,...S}=e,y={ref:l,onKeydown:v,onMousedown:O,onClick:w,id:b,role:"tab",type:a.value,"aria-controls":(t=d(u.panels.value[x.value]))==null?void 0:t.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:e.disabled?!0:void 0};return k({ourProps:y,theirProps:S,slot:n,attrs:r,slots:s,name:"Tab"})}}}),ie=A({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:r,attrs:s}){let i=B("TabPanels");return()=>{let u={selectedIndex:i.selectedIndex.value};return k({theirProps:e,ourProps:{},slot:u,attrs:s,slots:r,name:"TabPanels"})}}}),de=A({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${H()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:r,slots:s,expose:i}){let u=B("TabPanel"),l=P(null);i({el:l,$el:l}),F(()=>u.registerPanel(l)),z(()=>u.unregisterPanel(l));let o=C(G),m=c(()=>{if(o.value){let p=o.value.panels.indexOf(e.id);return p===-1?o.value.panels.push(e.id)-1:p}return-1}),x=c(()=>{let p=u.panels.value.indexOf(l);return p===-1?m.value:p}),f=c(()=>x.value===u.selectedIndex.value);return()=>{var p;let v={selected:f.value},{id:T,tabIndex:w,...O}=e,a={ref:l,id:T,role:"tabpanel","aria-labelledby":(p=d(u.tabs.value[x.value]))==null?void 0:p.id,tabIndex:f.value?w:-1};return!f.value&&e.unmount&&!e.static?j(W,{as:"span",...a}):k({ourProps:a,theirProps:O,slot:v,attrs:r,slots:s,features:M.Static|M.RenderStrategy,visible:f.value,name:"TabPanel"})}}});export{se as I,ie as S,de as g,re as x,oe as y};
