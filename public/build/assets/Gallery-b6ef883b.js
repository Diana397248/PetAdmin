import{o as i,e as l,a as e,m as $,d as y,l as A,b as o,u as a,f as b,F as v,g as k,w as d,t as _}from"./app-8d0782cb.js";import{r as B}from"./TrashIcon-5e570acf.js";import{U as N,h as C,G as S,V as U,S as E}from"./transition-84619d3a.js";import"./micro-task-cadf959b.js";function z(f,n){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15m0-3l-3-3m0 0l-3 3m3-3V15"})])}function D(f,n){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const I={class:"bg-white shadow rounded-lg overflow-hidden"},P={class:"px-4 py-5 sm:px-6"},T={class:"px-4 py-5 sm:p-6"},H={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},L=["src"],O=["onClick"],q=e("div",{class:"fixed inset-0 bg-black/25"},null,-1),J={class:"fixed inset-0 overflow-y-auto"},X={class:"flex min-h-full items-center justify-center p-4 text-center"},K={class:"flex justify-between align-items-center mb-5"},Q={class:"flex flex-col items-center justify-center py-2 sm:py-0"},R=e("p",{class:"w-100 mt-1 text-left text-sm text-gray-500 dark:text-gray-300",id:"file_input_help"},"SVG, PNG, JPG or GIF (MAX. 800x400px).",-1),W={class:"w-full py-2 align-middle inline-block min-w-full"},Y={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Z={class:"min-w-full table-auto divide-y divide-gray-200"},ee=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"w-75 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Size "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type ")])],-1),te={class:"bg-white divide-y divide-gray-200"},se={class:"px-6 py-4 whitespace-normal text-sm text-gray-500"},oe={class:"px-6 py-4 whitespace-normal text-sm text-gray-500"},ae={class:"px-6 py-4 whitespace-normal text-sm text-gray-500"},de={__name:"Gallery",props:{pet:{type:Object,required:!0}},setup(f){const n=$(),g=f,c=y([]),u=y([]),j=s=>{c.value=[...c.value,...Array.from(s.target.files)]},m=y(!1);function h(){c.value=[],m.value=!1}function G(){m.value=!0}const M=async()=>{const s=new FormData;c.value.forEach((t,x)=>{s.append("files[]",t)});const r=await axios.post(route("pets.gallery.store",{pet:g.pet.id}),s);if(await w(),h(),n.success(r.data.message),r.status===422&&r.data.errors){const t=r.data.errors;for(const x in t){const p=t[x];Array.isArray(p)?p.forEach(F=>{n.error(F)}):typeof p=="string"&&n.error(p)}}},w=async()=>{const s=await axios.get(`/pets/${g.pet.id}/gallery`);u.value=s.data},V=async s=>{const r=await axios.delete(`/pets/${g.pet.id}/gallery/${s}`);u.value=u.value.filter(t=>t.id!==s),n.success(r.data.message)};return A(async()=>{await w()}),(s,r)=>(i(),l(v,null,[e("div",I,[e("div",P,[e("button",{type:"button",onClick:G,class:"w-[100px] flex items-end justify-center rounded-md bg-indigo-700 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},[o(a(z),{class:"w-6 h-6"}),b(" Upload ")])]),e("div",T,[e("div",H,[(i(!0),l(v,null,k(u.value,t=>(i(),l("div",{key:t.id,class:"relative"},[e("img",{src:t.path,alt:"",class:"w-full h-64 object-cover rounded-lg"},null,8,L),e("button",{onClick:x=>V(t.id),class:"absolute bottom-0 right-0 bg-red-500 hover:bg-red-700 text-white rounded px-2 py-1 m-2"},[o(a(B),{class:"h-6 w-6"})],8,O)]))),128))])])]),o(a(E),{appear:"",show:m.value,as:"template"},{default:d(()=>[o(a(N),{as:"div",onClose:h,class:"relative z-10"},{default:d(()=>[o(a(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>[q]),_:1}),e("div",J,[e("div",X,[o(a(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:d(()=>[o(a(S),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:d(()=>[e("div",K,[o(a(U),{as:"h3",class:"text-lg font-medium leading-6 text-gray-500"},{default:d(()=>[b(" Upload Photos ")]),_:1}),e("button",{onClick:h,class:"bg-gray-100 hover:bg-indigo-100 rounded-md p-1"},[o(a(D),{class:"w-6 h-6 text-gray-500 hover:text-indigo-700"})])]),e("div",Q,[e("input",{class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"file_input_help",id:"file_input",type:"file",multiple:"",onChange:j},null,32),R,e("div",W,[e("div",Y,[e("table",Z,[ee,e("tbody",te,[(i(!0),l(v,null,k(c.value,t=>(i(),l("tr",{key:t.name},[e("td",se,_(t.name),1),e("td",oe,_(t.size),1),e("td",ae,_(t.type),1)]))),128))])])])])]),e("div",{class:"mt-4"},[e("button",{onClick:M,class:"inline-flex justify-center rounded-md border border-transparent bg-indigo-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-indigo-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},"Upload")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}};export{de as default};
